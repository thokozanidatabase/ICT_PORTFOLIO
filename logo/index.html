
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CRIPC LOGOS</title>
<link rel="stylesheet" href="assets/style.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <i class="fas fa-home"></i>
    <i class="fas fa-compass"></i>
    <i class="fas fa-plus"></i>
    <i class="fas fa-heart"></i>
    <i class="fas fa-user"></i>
</div>

<!-- Topbar -->
<div class="topbar">
    <h1>CRIPC LOGOS</h1>
</div>

<!-- Main Content -->
<div class="main-content">
   <div class="upload-box">
   <label class="file-label">
    <input type="file" id="imageFile" hidden>
    <span class="file-btn"><i class="fa fa-image"></i> Choose Image</span>
    <span id="file-name">No file chosen</span>
</label>

    <input type="text" id="caption" placeholder="Enter caption">
    <button id="uploadBtn">Upload</button>
   </div>


    <div class="grid" id="grid"></div>
</div>
<script>
$(document).ready(function(){

    function getImages(){
        return JSON.parse(localStorage.getItem("images")) || [];
    }

    function saveImages(images){
        localStorage.setItem("images", JSON.stringify(images));
    }

    function loadImages(){
        let images = getImages();
        $("#grid").empty();

        images.forEach(function(item, index){

            let card = `
                <div class="card">
                    <img src="${item.file}" alt="">
                    <div class="caption">${item.caption}</div>
                    <button class="deleteBtn" data-index="${index}">Delete</button>
                </div>
            `;

            $("#grid").append(card);
        });
    }

    loadImages();

    $("#imageFile").on("change", function(){
    let fileName = this.files[0] ? this.files[0].name : "No file chosen";
    $("#file-name").text(fileName);
});


    // Upload
    $("#uploadBtn").click(function(){

        let file = $("#imageFile")[0].files[0];
        let caption = $("#caption").val();

        if(!file) return alert("Select image first!");

        let reader = new FileReader();

        reader.onload = function(e){

            let images = getImages();

            images.push({
                file: e.target.result,  // base64 image
                caption: caption
            });

            saveImages(images);
            loadImages();

            $("#caption").val("");
            $("#imageFile").val("");
        };

        reader.readAsDataURL(file);
    });

    // Delete
    $(document).on("click", ".deleteBtn", function(){

        let index = $(this).data("index");
        let images = getImages();

        images.splice(index, 1);
        saveImages(images);
        loadImages();
    });

});
</script>

</body>
</html>
